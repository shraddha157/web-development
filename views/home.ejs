<!DOCTYPE html>
<%- include('partials/header') -%>

<html>
<head>
	<title>Welcome to Chit Chat</title>
	<meta charset="utf-8">
 	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<link rel="stylesheet" type="text/css" href="./style/home_style2.css">
	
</head>
    <style>
		.l1{
    padding-left: 20%;
}

.un{
    font-size: 15px;
    margin-top: 17px;
    
}
* {box-sizing: border-box;}

body { 
background-color: white;
margin: 0;
font-family: Arial, Helvetica, sans-serif;
}

.header1 {
width: 75%;
overflow: hidden;
background-color:rgba(180, 205, 221, 0.164);
height: 52px;


}

.header1 a {
float: left;
color: black;
text-align: center;
padding: 12px;
text-decoration: none;
font-size: 8px; 
line-height: 0.1px;
border-radius: 4px;
}

.header1 a.logo {
font-size: 15px;
font-weight: bold;
}

.header1 a:hover {
background-color: #ddd;
color: black;
}

.header1 a.active {
background-color: dodgerblue;
color: white;
}

.header1-right {
float: right;
}

@media screen and (max-width: 500px) {
.header1 a {
float: none;
display: block;
text-align: left;
}

.header1-right {
float: none;
}
}







		.l{
    padding-left: 245px;
    
}


        .fa {
font-size: 25px;
cursor: pointer;
user-select: none;
}


#content{
width: 70%;
}
#btn-post{
min-width: 25%;
max-width: 25%;
}
#insert_post{
background-color: #fff;
border: 2px solid #e6e6e6;
padding: 40px 50px;
}
#posts{
border: 5px solid #e6e6e6;
padding: 40px 50px;
}
#posts-img{
padding-top: 5px;
padding-right: 10px;
min-width: 102%;
max-width: 50%;
}
#single_posts{
border: 5px solid #e6e6e6;
padding: 40px 50px;
}

.custom-file-input::-webkit-file-upload-button {
visibility: hidden;
position: absolute;
top: 45%;
right: 15%;
min-width: 100px;
max-width: 100px;
border-radius: 4px;
transform: translate(-50%, -50%);

}
.like {
padding-left: 20%;

}
.showdate{
font-size: 10px;
}
body{
overflow-x: hidden;
}
#upload_image_button{
position: absolute;
top: 45.5%;
right: 14%;
min-width: 100px;
max-width: 100px;
border-radius: 4px;
transform: translate(-50%, -50%);
}
label{
padding: 7px;
display: table;
color: #fff;
}
input[type="file"]{
display: none;
}
#content{
width: 70%;
}
#btn-post{
min-width: 25%;
max-width: 25%;
}
#insert_post{
background-color: #fff;
border: 2px solid #e6e6e6;
padding: 40px 50px;
}
#posts{
border: 5px solid #e6e6e6;
padding: 40px 50px;
}
#posts-img{
padding-top: 5px;
padding-right: 10px;
min-width: 102%;
max-width: 50%;
}
#single_posts{
border: 5px solid #e6e6e6;
padding: 40px 50px;
}
#post-img{
    
    height: 550px;
    width: 60%;
}
#cover-img{
    
    height: 400px;
    width: 100%;
}#profile-img{
    position: absolute;
    top: 160px;
    left: 40px;
}
#update_profile{
    position: relative;
    top: -33px;
    cursor: pointer;
    left: 93px;
    border-radius: 4px;
    background-color: rgba(128, 127, 127, 0.6);
    transform: translate(-50%, -50%);
}
#button_profile{
    position: absolute;
    top: 82%;
    left: 50%;
    cursor: pointer;
    transform: translate(-50%, -50%);
}
hr{
    height: 1px;
}
.bottom-left{
    top:360px;
    font-style: italic;
    font-size: 28px;
    position: absolute;
    padding-left: 22px;
    color: antiquewhite;
}


	








		
       body{
	overflow-x: hidden;
}
#upload_image_button{
	position: absolute;
	top: 45%;
	right: 15%;
	min-width: 100px;
	max-width: 100px;
	border-radius: 4px;
	transform: translate(-50%, -50%);
}
label{
	padding: 7px;
	display: table;
	color: #fff;
}
input[type="file"]{
	display: none;
}
#content{
	width: 70%;
}
#btn-post{
	min-width: 25%;
	max-width: 25%;
}
#insert_post{
	background-color: #fff;
	border: 2px solid #e6e6e6;
	padding: 40px 50px;
}
#posts{
	border: 5px solid #e6e6e6;
	padding: 40px 50px;
}
#posts-img{
	padding-top: 5px;
	padding-right: 10px;
	min-width: 102%;
	max-width: 50%;
}
#single_posts{
	border: 5px solid #e6e6e6;
	padding: 40px 50px;
}

.custom-file-input::-webkit-file-upload-button {
  visibility: hidden;
  position: absolute;
	top: 45%;
	right: 15%;
	min-width: 100px;
	max-width: 100px;
	border-radius: 4px;
	transform: translate(-50%, -50%);

}


    </style>
	
	
<body>
<div class="row">
	<div id="insert_post"  class="col-sm-12">
		<center>
		<form action="/home/profile/upload_image_home" method="post" id="f" enctype="multipart/form-data">
		<textarea class="form-control" id="content" rows="4" name="content" placeholder="What's in your mind?"></textarea><br>
		<label class="btn btn-warning" id="upload_image_button">Select Image
        <input type="file" class="custom-file-input" name="upload_image" size="30">
        </label>
		
		<button id="btn-post" class="btn btn-success" name="sub">Post</button>
		</form>
		</center>
	</div>
</div>
<div class="row">
	<div class="col-sm-12">
		<center><h2><strong>  News Feed</strong></h2><br></center>
	</div>
</div>




 
<div class="l">
	<div class="row">
		<div class="col-sm-8">	
		</div>
		<div class="col-sm-10" >
	<% currentpost.forEach(post => { %>
	<br>
	<br>
	<% if( post.upload_image!= "") { %>
		
		<div class="l1">
			<div class="header1">
				<a href='/members/search1/<%=post.u_name%>' ><div class="un"><%= post.u_name %> </div></a>
				<div class="header1-right">
				</div>
			  </div>
			  </div>
		
		
		 
		 
		  
		  
	<center>
	<div><img id='post-img'  src='<%= post.upload_image %>' alt='cover' width="650px" height="565px"></div>
	</center>
	<br>
	<div class="like">
		
	<span id = <%= post._id %>><i class="fa fa-heart-o"   onclick="myFunction(this)" aria-hidden="true" ></i> </span>
	<!-- Used CDN for Font Awesome and Jquery. -->
		<script src="https://static.codepen.io/assets/common/stopExecutionOnTimeout-157cd5b220a5c80d4ff8e0e70ac069bffd87a61252088146915e8726e5d9f147.js"></script>
	
	  <script src='https://code.jquery.com/jquery-2.2.4.min.js'></script>
	<script src='https://use.fontawesome.com/0206006232.js'></script>
	  
		  <script id="rendered-js" >
	// It checks to see if the span id #heart has "liked" class, if not it run the else statement and adds the "liked" class, on a 2nd click it see that it has the "liked" class so it replaces the ihherHTML and removes class, on 3rd click it runs the else statement again cause there is no "liked" class(remomved on 2nd click).
	
	$(document).ready(function () {
		var like=0;
	  $("#<%= post._id %>").click(function () {
		if ($("#<%= post._id %>").hasClass("liked")) {
		  $("#<%= post._id %>").html('<i class="fa fa-heart-o" aria-hidden="true"></i>');
		  $("#<%= post._id %>").removeClass("liked");
		  like = like-1;
		} else {
		  $("#<%= post._id %>").html('<i class="fa fa-heart" aria-hidden="true"></i>');
		  $("#<%= post._id %>").addClass("liked");
		  like = like+1;
		}
	  });
	});
	//# sourceURL=pen.js
		</script>
		
		
	<p><b><%= post.u_name %> </b><%= post.post_content %></p>
	<p class="showdate"><%= post.post_date %></p>
	</div>
	<br>
	<br>
	<hr size="" width="70%" color="grey">
	<% } else {%>
		<br>
	    <div class="like">
		<p><%= post.post_content %></p>
		
	<p><span id = <%= post._id %>><i class="fa fa-heart-o"   onclick="myFunction(this)" aria-hidden="true" ></i> </span>
	<!-- Used CDN for Font Awesome and Jquery. -->
		<script src="https://static.codepen.io/assets/common/stopExecutionOnTimeout-157cd5b220a5c80d4ff8e0e70ac069bffd87a61252088146915e8726e5d9f147.js"></script>
	
	  <script src='https://code.jquery.com/jquery-2.2.4.min.js'></script>
	<script src='https://use.fontawesome.com/0206006232.js'></script>
	  
		  <script id="rendered-js" >
	// It checks to see if the span id #heart has "liked" class, if not it run the else statement and adds the "liked" class, on a 2nd click it see that it has the "liked" class so it replaces the ihherHTML and removes class, on 3rd click it runs the else statement again cause there is no "liked" class(remomved on 2nd click).
	
	$(document).ready(function () {
	  $("#<%= post._id %>").click(function () {
		if ($("#<%= post._id %>").hasClass("liked")) {
		  $("#<%= post._id %>").html('<i class="fa fa-heart-o" aria-hidden="true"></i>');
		  $("#<%= post._id %>").removeClass("liked");
		} else {
		  $("#<%= post._id %>").html('<i class="fa fa-heart" aria-hidden="true"></i>');
		  $("#<%= post._id %>").addClass("liked");
		}
	  });
	});
	//# sourceURL=pen.js
		</script>
		<p><b><%= uname %></b></p>
	<br>
	<p class="showdate"><%= post.post_date %></p>
	</div>
	<br>
	<br>
	<hr size="" width="70%" color="grey">

	<% } %>
	
	
	<% }) %>
	<br>
	</div>
	</div>
    </div>
		
	





</body>
</html>